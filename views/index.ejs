<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Founder Registration</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #e0f2f1;
    }

  
    main{
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

   
    section {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 2rem 0.5rem;
      padding-top: 4rem;

    }

    .container {
      background-color: white;
      border-radius: 10px;
      overflow: hidden;
      display: flex;
      width: 100%;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      animation: fadeIn 1s ease-in-out;
      margin-top: 1rem;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }

    .left-img {
      flex: 1;
      padding: 5px;
      display: flex;
      align-items: center;
      justify-content: center;

    }


    .left-img img {
      width: 95%;
      height: 95%;
      object-fit: cover;
      border-radius: 10px;
      transition: transform 0.3s ease;
    }

    .left-img img:hover {
      transform: scale(1.05);
      
    }
    .right-form {
      flex: 1;
      padding: 2rem;
    }

    .right-form h2 {
      color: #00695c;
    }
    .form-row {
  display: flex;
  gap: 1rem;
  margin-bottom: 0.5rem;
  flex-wrap: wrap;
}

.form-group {
  flex: 1;
  display: flex;
  flex-direction: column;
}

label {
  margin-bottom: 5px;
  font-weight: 600;
  color: #004d40;
  font-size: 0.95rem;
}

    input, select, textarea {
      margin-bottom: 1rem;
      padding: 0.75rem;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    button {
      padding: 0.75rem 2rem;
      background-color: #00695c;
      font-size: 1rem;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    #error-container {
    position: fixed;
    top: 5rem;
    right: 1rem;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    gap: 10px;
    max-width: 300px;
 }

    .error-alert {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  background: #e13030;
  width: fit-content;
  color: white;
  padding: 12px 16px;
  border-radius: 6px;
  margin-bottom: 12px;
  animation: slideIn 0.4s ease;
  transition: opacity 0.3s ease;

}

.error-alert .error-text {
  display: inline-block;
  margin-right: 20px;
}

.error-alert .error-close {
  background: transparent;
  border: none;
  color: white;
  font-size: 1.2rem;
  cursor: pointer;
  line-height: 1;
}


    @keyframes slideIn {
  from { transform: translateX(100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

    @media (max-width: 780px) {
      section{
        padding: 20px;
        width: 100%;
      }
      .container{
        padding: 15px;
        padding-top: 4rem;
        margin-top: 4rem;
        flex-direction: column;
      }

      .left-img img{
      width: 100%;
      height:50vh;
    }
    .form-row {
    flex-direction: column;
  }
    }

  </style>
</head>
<body>

        <% if (errors.length > 0) { %> 
          <div id="error-container" class="error-container">
          <% errors.forEach(err => { %>
            <div class="error-alert">
              <span class="error-text"><%= err %></span>
              <button type="button" class="error-close">&times;</button>
            </div>
          <% }) %>
          </div>
        <% } %>
        
  <main>

  <%- include('partials/navbar') %>

  <section>
    <div class="container">
      <div id="toast" class="toast hidden">
        <p id="toastMessage"></p>
      </div>
      

      <!-- Left Image -->
      <div class="left-img">
        <img src="https://plus.unsplash.com/premium_photo-1672921845494-18557ab0fa55?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzA5fHxzdGFydHVwJTIwcGl0Y2hlc3xlbnwwfHwwfHx8MA%3D%3D" alt="Startup">
      </div>

      <!-- Right Form -->
      <div class="right-form">
        <h2>Join Our Startup Launchpad ðŸš€</h2>
        <p>Get your ideas funded and mentored by top VCs!</p>

        <form action="/submit" method="POST" enctype="multipart/form-data" class="submission-form" id="registerForm">

          <div class="form-row">
            <div class="form-group">
              <label for="fullName">Full Name</label>
              <input type="text" id="fullName" name="fullName" placeholder="John Doe" value="<%= formData.fullName || '' %>" required>
            </div>
        
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" name="email" placeholder="example@mail.com" value="<%= formData.email || '' %>" required>
            </div>
          </div>
        
          <div class="form-row">
            <div class="form-group">
              <label for="address">Address</label>
              <input type="text" id="address" name="address" placeholder="123 Street" value="<%= formData.address || '' %>" required>
            </div>
        
            <div class="form-group">
              <label for="phone">Phone</label>
              <input type="tel" id="phone" name="phone" pattern="[0-9]{10}" placeholder="1234567890" value="<%= formData.phone || '' %>" required>
            </div>
          </div>
        
          <div class="form-row">
            <div class="form-group">
              <label for="startupName">Startup Name</label>
              <input type="text" id="startupName" name="startupName" placeholder="Startup Inc." value="<%= formData.startupName || '' %>" required>
            </div>
        
            <div class="form-group">
              <label for="startupWebsite">Startup Website</label>
              <input type="url" id="startupWebsite" name="startupWebsite" placeholder="https://yourstartup.com" value="<%= formData.startupWebsite || '' %>">
            </div>
          </div>
        
          <div class="form-row">
            <div class="form-group">
              <label for="stage">Stage</label>
              <select name="stage" id="stage" required>
                <option value="">Select Stage</option>
                <option value="Idea">Idea</option>
                <option value="Prototype">Prototype</option>
                <option value="Launched">Launched</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="teamSize">Team Size (Optional)</label>
              <input type="text" id="teamSize" name="teamSize" placeholder="e.g. 5">
            </div>
          </div>
        
          <div class="form-row">
            <div class="form-group">
              <label for="pitch">Startup Pitch</label>
              <textarea name="pitch" id="pitch" placeholder="Describe your startup (min 50 characters)..." rows="4" required><%= formData.pitch || '' %></textarea>
            </div>
        
            <div class="form-group">
              <label for="image">Upload Startup Image</label>
              <input type="file" id="image" name="image" accept="image/*" required>
            </div>
          </div>
        
          <button type="submit">Submit</button>
        </form>
        
        

      </div>

    </div>
  </section>


  <%- include('partials/footer') %>
</main>


  <script>

document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.error-alert').forEach(alertBox => {
      const closeBtn = alertBox.querySelector('.error-close');

      // Manual close
      if (closeBtn) {
        closeBtn.addEventListener('click', () => {
          fadeAndRemove(alertBox);
        });
      }

      // Auto-dismiss after 5 seconds
      setTimeout(() => {
        fadeAndRemove(alertBox);
      }, 5000);
    });

    function fadeAndRemove(element) {
      element.style.transition = 'opacity 0.3s ease';
      element.style.opacity = '0';
      setTimeout(() => {
        if (element && element.parentNode) {
          element.parentNode.removeChild(element);
        }
      }, 500);
    }
  });
 
    document.getElementById('registerForm').addEventListener('submit', function (e) {
      const name = document.getElementById('fullName').value.trim();
      const email = document.getElementById('email').value.trim();
      const pitch = document.getElementById('pitch').value.trim();
      const url = document.getElementById('startupWebsite').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const image = document.getElementById('image').files[0];
  
    
      if (!name || !email || !pitch || !phone || !image || !url) {
        alert("All required fields must be filled.");
      }

      if (email && !email.includes('@')) {
       alert("Invalid email format.");
    }
      if (pitch.length < 50) {
        alert("Pitch must be at least 50 characters.");
      }
  
      if (!/^\d{10}$/.test(phone)) {
        alert('Phone number must be exactly 10 digits.')
      }
  
    }) 
</script>
  

</body>
</html>
    
